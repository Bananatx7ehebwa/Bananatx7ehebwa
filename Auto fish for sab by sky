--== GUI BASE ==--
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Criar ScreenGui
local gui = Instance.new("ScreenGui")
gui.Name = "SkyFishingUI"
gui.Parent = game.CoreGui
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false
gui.ZIndexBehavior = Enum.ZIndexBehavior.Global

--== BOTÃO FIXO "SKY ☆" ==--
local toggleButton = Instance.new("TextButton")
toggleButton.Parent = gui
toggleButton.Size = UDim2.new(0, 90, 0, 35)
toggleButton.Position = UDim2.new(1, -100, 0, 10) -- CANTO SUPERIOR DIREITO
toggleButton.AnchorPoint = Vector2.new(0, 0)
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 140, 255)
toggleButton.Text = "SKY ☆"
toggleButton.TextColor3 = Color3.new(1, 1, 1)
toggleButton.Font = Enum.Font.GothamBold
toggleButton.TextSize = 18
toggleButton.AutoButtonColor = true
toggleButton.BorderSizePixel = 0
toggleButton.ZIndex = 9999 -- SEMPRE POR CIMA

--== FRAME PRINCIPAL ==--
local mainFrame = Instance.new("Frame")
mainFrame.Parent = gui
mainFrame.Size = UDim2.new(0, 300, 0, 200)
mainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
mainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
mainFrame.Visible = false
mainFrame.ZIndex = 9998

local UICorner = Instance.new("UICorner", mainFrame)
UICorner.CornerRadius = UDim.new(0, 12)

--== BOTÃO MINIMIZAR ==--
local minimizeButton = Instance.new("TextButton")
minimizeButton.Parent = mainFrame
minimizeButton.Size = UDim2.new(0, 25, 0, 25)
minimizeButton.Position = UDim2.new(1, -30, 0, 5)
minimizeButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
minimizeButton.Text = "-"
minimizeButton.TextColor3 = Color3.new(1, 1, 1)
minimizeButton.Font = Enum.Font.GothamBlack
minimizeButton.TextSize = 20
minimizeButton.BorderSizePixel = 0
minimizeButton.ZIndex = 9999

--== BOTÃO ATIVAR AUTO-FISH ==--
local startButton = Instance.new("TextButton")
startButton.Parent = mainFrame
startButton.Size = UDim2.new(0, 250, 0, 50)
startButton.Position = UDim2.new(0.5, -125, 0.5, -25)
startButton.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
startButton.Text = "ATIVAR AUTO-FISH"
startButton.TextColor3 = Color3.new(1, 1, 1)
startButton.Font = Enum.Font.GothamBold
startButton.TextSize = 22
startButton.BorderSizePixel = 0
startButton.ZIndex = 9999

local UICorner2 = Instance.new("UICorner", startButton)
UICorner2.CornerRadius = UDim.new(0, 8)

--== VARIABLES ==--
local running = false

--== AUTO FISH FUNCTIONS ==--
local function startFishing()
    running = true
    
    task.spawn(function()
        while running do
            pcall(function()
                game:GetService("ReplicatedStorage")
                :WaitForChild("Packages")
                :WaitForChild("Net")
                :WaitForChild("RE/FishingRod.Cast")
                :FireServer(0)
            end)
            task.wait(1.5)
        end
    end)

    task.spawn(function()
        while running do
            pcall(function()
                game:GetService("ReplicatedStorage")
                :WaitForChild("Packages")
                :WaitForChild("Net")
                :WaitForChild("RE/FishingRod.MinigameClick")
                :FireServer()
            end)
            task.wait(0.03) -- MAIS RÁPIDO
        end
    end)
end

--== BUTTON EVENTS ==--

-- Abrir/fechar GUI
toggleButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = not mainFrame.Visible
end)

-- Minimizar GUI
minimizeButton.MouseButton1Click:Connect(function()
    mainFrame.Visible = false
end)

-- Ativar Scripts
startButton.MouseButton1Click:Connect(function()
    if not running then
        startButton.Text = "RODANDO..."
        startFishing()
    end
end)
